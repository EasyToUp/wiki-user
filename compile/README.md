# 脚本使用说明

## build.sh 脚本使用说明

```
此脚本用于编译 Golang 项目，同时确保依赖是最新的，并将生成的可执行文件和配置文件（YAML格式）复制到指定的输出目录。
```
### 使用方法

```bash
bash build.sh <source_path> [output_path]
```
### 参数说明
<source_path>: 必须提供，指定项目的源代码路径。这应该是项目根目录的完整或相对路径。
[output_path]: 可选参数，指定编译输出的目录。如果未指定，输出目录默认为当前命令行工作目录。
### 功能特性
``` text
1. 依赖管理：自动拉取并更新项目依赖，确保编译使用的依赖是最新的。
2. 编译：编译项目到指定目录，生成可执行文件。
3. 配置文件处理：自动搜索并复制源代码路径下的所有 YAML 配置文件到输出目录，已存在的文件将不会被覆盖。
4. 环境适应：自动根据操作系统调整输出文件的名称，支持 MacOS、Linux、Cygwin 和 MinGW。
5. 编译结果检查：编译后自动检查操作是否成功，并给出相应提示。
```
### 使用示例
```bash
# 编译位于 ~/myproject 的项目到 /tmp/myproject-build 目录
bash build.sh ~/myproject /tmp/myproject-build
```
### 输出结果
``` textmate
1. 编译成功时，会显示所有输出文件的详细信息，包括可执行文件和拷贝的配置文件。
2. 如果编译失败，脚本将终止执行并返回错误。
```

## run.sh 脚本使用说明

```
此脚本用于启动 wiki-user ，可以配置环境模式并指定配置文件路径。
```

### 使用方法

```bash
bash run.sh [gin_mode] [config_path]
```
### 参数说明
```
[gin_mode]: 可选参数，用于设置 GIN_MODE 环境变量，决定 Gin 框架的运行模式，如 debug、release 等。如果未提供此参数，默认设置为 debug。
[config_path]: 可选参数，用于指定项目的配置文件路径。如果未提供此参数，脚本将尝试使用当前目录下的 config.yaml 文件。
```

### 功能特性
```
环境模式设置：根据提供的参数设置 GIN_MODE 环境变量。
配置文件处理：允许通过参数指定配置文件路径。如果未指定路径，脚本会尝试使用当前路径下的 config.yaml 文件。如果配置文件不存在，项目将在没有配置文件的情况下运行。
应用启动：根据是否找到配置文件，使用相应的命令行参数启动应用。
```
### 使用示例
```bash
# 使用默认的debug模式，没有指定配置文件
 run.sh

# 使用release模式，指定配置文件路径
 run.sh release /path/to/config.yaml
```
### 输出结果
```
脚本将输出相关的运行信息，包括环境模式设置和配置文件使用情况。
如果指定的配置文件不存在，脚本将输出错误信息并退出。
```
### 注意事项
```
确保脚本和可执行文件 wiki-user 在同一目录下，或确保 ./wiki-user 路径指向正确的可执行文件。
配置文件必须有效且格式正确，否则应用可能无法正确启动。
```

